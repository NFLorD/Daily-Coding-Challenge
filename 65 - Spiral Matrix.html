<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        function printSpiral(array) {
            // let clone = JSON.stringify(array);
            // clone = JSON.parse(clone);
            let clone = array.clone();
            let result = [];
            while (clone.length) {
                result.push(
                    ...clone.shift(),
                    ...clone.map(x => x.pop()),
                    ...(clone.pop() || []).reverse(),
                    ...clone.map(x => x.shift()).reverse()
                );
            }
            console.log(result, clone, array);
            return result;
        }

        Array.prototype.clone = function () {
            return this.map(x => {
                if (x.constructor === Array) return x.clone();
                else return x;
            });
        }

        let matrix = [
            [1, 2, 3, 4, 5],
            [6, 7, 8, 9, 10],
            [11, 12, 13, 14, 15],
            [16, 17, 18, 19, 20]
        ];

        function myPrintSpiral(matrix) {
            let N = matrix[0].length;
            let M = matrix.length;
            let startCol = 0;
            let endCol = N - 1;
            let startRow = 0;
            let endRow = M - 1;

            while (startRow < endRow || startCol < endCol) {
                for (let i = startCol; i <= endCol; i++) {
                    console.log(matrix[startRow][i])
                }
                startRow++;

                for (let i = startRow; i <= endRow; i++) {
                    console.log(matrix[i][endCol]);
                }
                endCol--;

                for (let i = endCol; i >= startCol; i--) {
                    console.log(matrix[endRow][i]);
                }
                endRow--;

                for (let i = endRow; i >= startRow; i--) {
                    console.log(matrix[i][startCol])
                }
                startCol++;
            }
        }

        // myPrintSpiral(matrix);

        printSpiral(matrix);

        let matrix2 = [
            [
                [1, 2, 3, 4, 5],
                [6, 7, 8, 9, 10],
                [11, 12, 13, 14, 15]
            ],
            [
                [16, 17, 18, 19, 20],
                [21, 22, 23, 22, 21],
                [20, 19, 18, 17, 16]
            ],
            [
                [15, 14, 13, 12, 11],
                [10, 9, 8, 7, 6],
                [5, 4, 3, 2, 1]
            ]
        ];

        // printSpiral(matrix2);
    </script>
</body>

</html>
